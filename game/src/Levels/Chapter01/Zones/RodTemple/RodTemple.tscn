[gd_scene load_steps=18 format=2]

[ext_resource path="res://src/Inventory/Rod.tres" type="Resource" id=1]
[ext_resource path="res://src/Pickables/Pickup.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/Levels/Chapter01/Zones/RodTemple/RodTemple.gd" type="Script" id=3]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple.png" type="Texture" id=4]
[ext_resource path="res://assets/images/world/rod.png" type="Texture" id=5]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_mask.png" type="Texture" id=6]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_cover.png" type="Texture" id=7]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_outside_floor.png" type="Texture" id=8]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_cover_debris.png" type="Texture" id=9]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_columns.png" type="Texture" id=10]
[ext_resource path="res://src/Levels/ZIndexChanger.gd" type="Script" id=11]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_tank.png" type="Texture" id=12]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_floor.png" type="Texture" id=13]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_water.png" type="Texture" id=14]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_tank_mask.png" type="Texture" id=15]
[ext_resource path="res://assets/images/world/chapter_0.1/rod_temple_open_mask.png" type="Texture" id=16]

[sub_resource type="Animation" id=1]
resource_name = "Emerge"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Main:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 0, 9 ), Vector2( 0, -75 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Main/Rod:monitoring")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Main/Rod:monitorable")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("MainClosedMask:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Main/Rod:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("CoverDebris:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Cover:modulate")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Floor:position")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 0.5, 71.5 ), Vector2( 0.5, -12.5 ) ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("Water:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 0.5, 80 ), Vector2( 0.5, -4 ) ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("MainOpenMask:visible")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("Tank/TankMask:visible")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("Main/CollisionsClosed:collision_layer")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 1, 0 ]
}
tracks/12/type = "value"
tracks/12/path = NodePath("Main/ZIndexChanger:position")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ Vector2( 0, 0 ), Vector2( 0, 71 ) ]
}
tracks/13/type = "value"
tracks/13/path = NodePath("Main/CollisionsClosed:collision_mask")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 1, 0 ]
}
tracks/14/type = "value"
tracks/14/path = NodePath("Main/CollisionsOpen:collision_layer")
tracks/14/interp = 1
tracks/14/loop_wrap = true
tracks/14/imported = false
tracks/14/enabled = true
tracks/14/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 0, 1 ]
}
tracks/15/type = "value"
tracks/15/path = NodePath("Main/CollisionsOpen:collision_mask")
tracks/15/interp = 1
tracks/15/loop_wrap = true
tracks/15/imported = false
tracks/15/enabled = true
tracks/15/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 0, 1 ]
}
tracks/16/type = "value"
tracks/16/path = NodePath("CoverDebris/ZIndexChanger:monitoring")
tracks/16/interp = 1
tracks/16/loop_wrap = true
tracks/16/imported = false
tracks/16/enabled = true
tracks/16/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/17/type = "value"
tracks/17/path = NodePath("CoverDebris/Collisions:collision_layer")
tracks/17/interp = 1
tracks/17/loop_wrap = true
tracks/17/imported = false
tracks/17/enabled = true
tracks/17/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 1, 0 ]
}
tracks/18/type = "value"
tracks/18/path = NodePath("CoverDebris/Collisions:collision_mask")
tracks/18/interp = 1
tracks/18/loop_wrap = true
tracks/18/imported = false
tracks/18/enabled = true
tracks/18/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 1, 0 ]
}

[node name="RodTemple" type="Node2D"]
script = ExtResource( 3 )
__meta__ = {
"_edit_horizontal_guides_": [ 9.0 ]
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Emerge = SubResource( 1 )

[node name="Tank" type="Sprite" parent="."]
position = Vector2( 0.5, -5.5 )
z_index = -2
texture = ExtResource( 12 )

[node name="TankMask" type="Light2D" parent="Tank"]
position = Vector2( 0, 56 )
texture = ExtResource( 15 )
mode = 3
range_z_min = -1
range_z_max = -1

[node name="Water" type="Sprite" parent="."]
position = Vector2( 0.5, -4 )
z_index = -1
texture = ExtResource( 14 )

[node name="Collisions" type="StaticBody2D" parent="Water"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Water/Collisions"]
polygon = PoolVector2Array( -13.5, 28, -10.5, 13, -33.5, 5, -38.5, -2, -38.5, -20, -22.5, -28, 22.5, -27, 38.5, -20, 38.5, -2, 32.5, 5, 10.5, 13, 13.5, 28, 27.5, 26, 42.5, 20, 52.5, 12, 56.5, 6, 56.5, -3, 54.5, -10, 48.5, -18, 40.5, -23, 23.5, -29, -23.5, -29, -42.5, -22, -52.5, -14, -56.5, -5, -56.5, 6, -53.5, 10, -47.5, 16, -37.5, 22, -27.5, 26 )

[node name="Floor" type="Sprite" parent="."]
position = Vector2( 0.5, -12.5 )
z_index = -1
texture = ExtResource( 13 )

[node name="OutsideFloor" type="Sprite" parent="."]
texture = ExtResource( 8 )

[node name="Cover" type="Sprite" parent="."]
modulate = Color( 1, 1, 1, 0 )
position = Vector2( 0.5, -5.5 )
z_index = -2
texture = ExtResource( 7 )

[node name="Main" type="Sprite" parent="."]
position = Vector2( 0, -75 )
z_index = 4
texture = ExtResource( 4 )

[node name="CollisionsClosed" type="StaticBody2D" parent="Main"]
visible = false
collision_layer = 0
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Main/CollisionsClosed"]
polygon = PoolVector2Array( -26, -16, -26, -29, 26, -29, 26, -18, 19, -18, 19, -16, -1, -16, -1, -14, -16, -14, -16, -16 )

[node name="CollisionsOpen" type="StaticBody2D" parent="Main"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Main/CollisionsOpen"]
polygon = PoolVector2Array( -18, 52, -19, 38, 20, 38, 19, 52 )

[node name="ZIndexChanger" type="Area2D" parent="Main"]
visible = false
modulate = Color( 0, 1, 1, 1 )
position = Vector2( 0, 71 )
script = ExtResource( 11 )
zindex_on_entered = 1

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Main/ZIndexChanger"]
polygon = PoolVector2Array( -37, -12, 27, -12, 27, -15, 41, -15, 41, 15, -37, 15 )

[node name="Rod" parent="Main" instance=ExtResource( 2 )]
position = Vector2( -0.228394, 49 )
is_good = true
can_burn = true
carbs = 2
img = ExtResource( 5 )
on_free = ""
tr_code = "I_ROD"
character = ""
dialog = ""
item = ExtResource( 1 )

[node name="MainClosedMask" type="Light2D" parent="."]
visible = false
position = Vector2( 0, 9.5 )
texture = ExtResource( 6 )
mode = 3
range_z_min = 4
range_z_max = 4

[node name="MainOpenMask" type="Light2D" parent="."]
position = Vector2( 1, 2 )
texture = ExtResource( 16 )
mode = 3
range_z_min = 4
range_z_max = 4

[node name="CoverDebris" type="Sprite" parent="."]
modulate = Color( 1, 1, 1, 0 )
position = Vector2( 8.5, -23.5 )
z_index = 5
texture = ExtResource( 9 )

[node name="Collisions" type="StaticBody2D" parent="CoverDebris"]
collision_layer = 0
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="CoverDebris/Collisions"]
position = Vector2( 0.5, 0.5 )
polygon = PoolVector2Array( 23, 15, 18, 15, 18, 13, 22, 13 )

[node name="ZIndexChanger" type="Area2D" parent="CoverDebris"]
modulate = Color( 0, 1, 1, 1 )
monitoring = false
script = ExtResource( 11 )
zindex_on_entered = 2
zindex_on_exited = 5

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="CoverDebris/ZIndexChanger"]
polygon = PoolVector2Array( -30.5, 23.5, -9.5, 23.5, -9.5, 20.5, 18.5, 20.5, 18.5, 17.5, 32.5, 17.5, 32.5, 44.5, -30.5, 44.5 )

[node name="Columns" type="Sprite" parent="."]
position = Vector2( 0, -10.5 )
z_index = 5
texture = ExtResource( 10 )

[node name="Collisions" type="StaticBody2D" parent="Columns"]
visible = false

[node name="W" type="CollisionPolygon2D" parent="Columns/Collisions"]
polygon = PoolVector2Array( -70, 4.5, -70, 2.5, -64, 2.5, -64, 4.5 )

[node name="NW" type="CollisionPolygon2D" parent="Columns/Collisions"]
polygon = PoolVector2Array( -32, -32.5, -27, -32.5, -27, -34.5, -32, -34.5 )

[node name="NE" type="CollisionPolygon2D" parent="Columns/Collisions"]
polygon = PoolVector2Array( 28, -31.5, 34, -31.5, 34, -33.5, 28, -33.5 )

[node name="E" type="CollisionPolygon2D" parent="Columns/Collisions"]
polygon = PoolVector2Array( 65, 4.5, 65, 2.5, 70, 2.5, 70, 4.5 )

[node name="SE" type="CollisionPolygon2D" parent="Columns/Collisions"]
polygon = PoolVector2Array( 20, 42.5, 26, 42.5, 26, 40.5, 20, 40.5 )

[node name="SW" type="CollisionPolygon2D" parent="Columns/Collisions"]
polygon = PoolVector2Array( -25, 42.5, -19, 42.5, -19, 40.5, -25, 40.5 )

[node name="ZIndexChanger" type="Area2D" parent="Columns"]
visible = false
modulate = Color( 0, 1, 1, 1 )
script = ExtResource( 11 )
zindex_on_exited = 5

[node name="W" type="CollisionPolygon2D" parent="Columns/ZIndexChanger"]
polygon = PoolVector2Array( -75, 6.5, -59, 6.5, -59, 26.5, -75, 26.5 )

[node name="NW" type="CollisionPolygon2D" parent="Columns/ZIndexChanger"]
position = Vector2( 37, -36.5 )
polygon = PoolVector2Array( -75, 5, -59, 5, -59, 26, -75, 26 )

[node name="NE" type="CollisionPolygon2D" parent="Columns/ZIndexChanger"]
position = Vector2( 98, -35.5 )
polygon = PoolVector2Array( -75, 5, -59, 5, -59, 26, -75, 26 )

[node name="E" type="CollisionPolygon2D" parent="Columns/ZIndexChanger"]
position = Vector2( 135, 0.5 )
polygon = PoolVector2Array( -75, 6, -59, 6, -59, 26, -75, 26 )

[node name="SE" type="CollisionPolygon2D" parent="Columns/ZIndexChanger"]
position = Vector2( 90, 38.5 )
polygon = PoolVector2Array( -75, 5, -59, 5, -59, 26, -75, 26 )

[node name="SW" type="CollisionPolygon2D" parent="Columns/ZIndexChanger"]
position = Vector2( 45, 38.5 )
polygon = PoolVector2Array( -75, 5, -59, 5, -59, 26, -75, 26 )
